---
layout: default
permalink: /week7-dom/
---
<h2>Quiz 7 DOM: events and callback function</h2>

<h4>Please copy and paste the code to the <a href="https://alpha.editor.p5js.org/">p5 web editor</a> to do the following questions.</h4>
<p>
  <iframe src="https://alpha.editor.p5js.org/embed/rym0wT6R" width=200 height=200></iframe>
  <br/>

  1. Write a program that implements the above sketch. First, create a <code>p</code> element. Then use <code>.position()</code> function to update the element's x, y position. Then use <code>.html</code> function to update its content. In the end, use <code>.style</code> function to change its background color and add paddings to the element.
</p>

<script type="text/p5" data-preview-width="400">
// Please copy and paste the code to the p5 web editor to do the following questions.
var p;
var x = 50;
var y = 50;

function setup() {
  // create a p element.
  p = __________('Waiting.');  
}

function draw() {
  // set element p's x, y position
  p._______(x, y);
  
  // update element p's x, y position
  x = x + Math.round(random(-1, 1));

  y = y + Math.round(random(-1, 1));
  
  // update element p's content
  p.________('x: ' + x + '<br />y: ' + y );
  
  // change element p's background color
  p.________('________', '________');
  
  // add paddings to element p
  p.________('________', '________');
}
</script>

<p>
  <br/>
  <iframe src="https://alpha.editor.p5js.org/embed/S1a4BhAR" width=200 height=230></iframe>
  <iframe src="https://alpha.editor.p5js.org/embed/rJLDPApA" width=200 height=230></iframe>
  <iframe src="https://alpha.editor.p5js.org/embed/rJ-g24lJe" width=200 height=230></iframe>
  <iframe src="https://alpha.editor.p5js.org/embed/ryml3Nekx" width=200 height=230></iframe>
  <br/>

  2. Write four programs that implement the above sketches. 
  <br/>
  Sketch 1: Create a <code>button</code> element. Attach a callback function to the button's <code>mousePressed</code> event. In the callback function, give the canvas a random background color.</p>

<script type="text/p5" data-preview-width="400">
// Please copy and paste the code to the p5 web editor to do the following questions.
var bgcolor;
var button;

function setup() {
  canvas = createCanvas(200, 200);
  bgcolor = color(200);
  
  // Create a button element
  button = ________("___________");
  // Attach a callback function called changeColor to the button's mousePressed event
  button.________(________);
}

// Callback function for the button's mousePressed event
function changeColor() {
  bgcolor = color(random(150, 255), random(150, 255), random(150, 255));
}

function draw() {
  background(bgcolor);
}
</script>

<p>
  <br/>
  Sketch 2: Create a <code>slider</code> element to control the size of an ellipse.</p>

<script type="text/p5" data-preview-width="400">
// Please copy and paste the code to the p5 web editor to do the following questions.
var slider;

function setup() {
  canvas = createCanvas(200, 200);
  bgcolor = color(200);
  
  // Create a slider element
  slider = ________(____, ____, ____);
}

function draw() {
  background(200);
  noStroke(); 
  fill(255, 50, 150);

  // Draw an ellipse according to the slider's value
  ellipse(100, 100, ________.________(), ________.________());
}
</script>

<p>
  <br/>
  Sketch 3: Create an <code>input</code> and a <code>p</code> element. Attach a callback function to the input element's <code>input</code> event. In the callback function, update p element's content. See reference about <code>input</code> event <a href='https://p5js.org/reference/#/p5.Element/input'>here</a>.</p>

<script type="text/p5" data-preview-width="400">
// Please copy and paste the code to the p5 web editor to do the following questions.
var nameInput;
var nameP;

function setup() {
  noCanvas();
  
  // Create a p element
  nameP = _________('Your name!');
  
  // Create an input element
  nameInput = ________('type your name');

  // Attach a callback function called updateText to the input's input event
  nameInput.________(________);
}

function updateText() {
  // change p element's html content
  nameP.________(________.________());
}
</script>

<p>
  <br/>
  Sketch 4: Create a <code>p</code> element. Attach two callback functions to the p element's <code>mouseOver</code> and <code>mouseOut</code> event. In the callback functions, update p element's content.</p>

<script type="text/p5" data-preview-width="400">
// Please copy and paste the code to the p5 web editor to do the following questions.
var nameP;

function setup() {
  noCanvas();
  
  // Create a p element
  nameP = ________('Move your mouse here');

  // Attach a callback function called overpara to the p element's mouseOver event
  nameP.________(________);

  // Attach a callback function called outpara to the p element's mouseOut event
  nameP.________(________);
}

function overpara() {
  // change p element's html content
  nameP.________('your mouse is over me');
}

function outpara() {
  // change p element's html content
  nameP.________('your mouse is out');
}
</script>

<p>
  <br/>
  <iframe src="https://alpha.editor.p5js.org/embed/H1pGh200" width=290 height=200></iframe>
  <br/>
  3. Besides using <code>createP()</code> function to create p elements in our js file, we can also use <code>select()</code> function to select exiting p elements from our html file.<br/>
  Write a program that implements the above sketch. In the index.html file, write a p element with an id = "apple". Then select the element and update this element's x position in the sketch.js file.
</p>

<script type="text/p5" data-preview-width="400">
// Please copy and paste the code to the p5 web editor to do the following questions.
// Please include the following code in the body element in the index.html file
// <p id="apple">This is an apple.</p>

// Code in the sketch.js file
var apple;
var x = 0;

function setup() {
  noCanvas();

  // select an element with an id called "apple".
  apple = ________("#________");
}

function draw() {
  // update apple's x position
  apple.________(x, 80);
  updateX();
}

function updateX() {
  x++;
  if (x > 150) {
    x = 0;
  }
}
</script>


<p>
  <br/>
  <iframe src="https://alpha.editor.p5js.org/embed/ByJqkeRC" width=250 height=200></iframe>
  <br/>

  4. Write a program that implements the above sketch. In the index.html file, include a <code>h1</code> tag with 'A Todo List' as content, and an <code>ol</code> with id = "todolist" in the <code>body</code> tag. Create a <code>button</code> element. Attach a callback function called <code>addItem</code> to its <code>mousePressed</code> event. In the callback function, add one <code>li</code> as a child element to the <code>ol</code> element by using <code>.parent</code> function.</p>

<script type="text/p5" data-preview-width="400">
// Please copy and paste the code to the p5 web editor to do the following questions.
// Please include the following code in the body element in the index.html file
// <h1>A Todo List</h1>
//   <ol id="todolist"></ol>

// Code in the sketch.js file
var itemInput;
var button;

function setup() {
  noCanvas();
  // Create an input element
  itemInput = ________('Type a todo item here');

  // Create a button element
  button = ________('Add one todo');
  //Attach a callback function to its mousePressed event
  button.________(addItem);  
}

function addItem() {
  // Create an li element
  var li = __________('____', itemInput.value());
  // set li's parent to an element with id "todolist"
  li.________("todolist");
}
</script>


<p>
  <br/>
  <iframe src="https://alpha.editor.p5js.org/embed/B1fWdyCA" width=200 height=200></iframe>
  <br/>

  5. Write a program that implements the above sketch. Create multiple <code>p</code> elements. Manipulate their x, y positions. Attach callback functions to their <code>mouseOver</code> and <code>mouseOut</code> events. In the callback functions, remember to use "this" to reference the current element.</p>

<script type="text/p5" data-preview-width="400">
// Please copy and paste the code to the p5 web editor to do the following questions.
var paragraphs = [];

function setup() {  
  for (var i = 0; i < 5; i++) {
    for (var j = 0; j < 4; j++) {
      // Create p element
      var par = ________('ðŸ˜‚');
      // Set element's x, y position
      par.________(10 + i*40, 10 + j*40);
      // push one element into the array
      paragraphs.push(par);
    }
  }
  
  for (var n = 0; n < paragraphs.length; n++) {
    // Attach a callback function called hightlight to the element's mouseOver event
    paragraphs[____].________(________);

    // Attach a callback function called unhightlight to the element's mouseOut event
    paragraphs[____].________(________);
  }
}

function highlight() {
  // remember to use "this" to reference the current element
  // change the element's style
  // change the element's font size
  this.________('________', '________');
  // change the element's background color
  this.________('________', 'lightblue');
}

function unhighlight() {
  this.style('font-size', '12pt');
  this.style('background-color', 'white');
}
</script>
